/* 2015-03-29 */ !function(a){a.fn.btOneSlide=function(b,c){function d(){!b.loop&&j&&k&&(f===n-1?k.css("opacity","0.2"):k.css("opacity","1"),0===f?j.css("opacity","0.2"):j.css("opacity","1"))}function e(a){a&&(h=setInterval(function(){p="next",f++,f>n-1&&(f=0),i.goOneSlide()},b.intervalTime))}a.isFunction(b)&&(c=b,b=null),a.fn.btOneSlide.setting={mode:"horizontal",startIndex:0,controller:".oneSlideControls",pager:"",container:a(this).find("ul"),loop:!0,ease:"linear",animateSpeed:300,hasPagerClass:!1,auto:!1,intervalTime:5e3,windowFit:!1,onSlideReadyComplete:function(){},onChangeStart:function(){},onChangeEnd:function(){}},b=a.extend(a.fn.btOneSlide.setting,b);var f,g,h,i=this,j=a(this).find(b.controller).find("a:first"),k=a(this).find(b.controller).find("a:last"),l=a(this).find(b.container),m=a(b.pager),n=l.children().length/l.length;b.startIndex>n-1?(f=n-1,g=n-1):(f=b.startIndex,g=b.startIndex);var o,p="";return m.find("li").each(function(c){c===f?b.hasPagerClass?a(this).addClass("on"):a(this).css("opacity","1"):b.hasPagerClass?a(this).removeClass("on"):a(this).css("opacity","0.3"),a(this).bind("click",function(b){b.preventDefault(),f=a(this).index(),i.goClickOneSlide(f)})}),i.goClickOneSlide=function(a){f=a,f!=g&&(p=g>f?"prev":"next",i.goOneSlide(),b.auto&&(clearInterval(h),e(b.auto)))},l.each(function(){var c=a(this).children();a(this).wrap(b.windowFit?"<div style='position:relative; width:100%; height:100%; overflow:hidden'></div>":"<div style='position:relative; width:"+l.children().width()+"px; height:"+l.children().height()+"px; overflow:hidden'></div>"),a(this).css({position:"absolute",left:"0",top:"0"}),c.css({display:"none",position:"absolute",top:0,left:0}),c.eq(f).css({display:"block"})}),j.bind("click",function(a){i.prevClick(a)}),i.prevClick=function(a){a.preventDefault(),p="prev",f--,0>f&&(f=b.loop?n-1:0),f!=g&&i.goOneSlide(),b.auto&&(clearInterval(h),e(b.auto))},k.bind("click",function(a){i.nextClick(a)}),i.nextClick=function(a){a.preventDefault(),p="next",f++,f>n-1&&(f=b.loop?0:n-1),f!=g&&i.goOneSlide(),b.auto&&(clearInterval(h),e(b.auto))},d(),i.goOneSlide=function(){b.onChangeStart(this,f,g),o=!1,m&&(m.find("li").each(function(){a(this).unbind("click")}),b.hasPagerClass?f>m.find("li").length-1?m.find("li").removeClass("on"):m.find("li").eq(f).addClass("on").siblings().removeClass("on"):m.find("li").eq(f).css("opacity","1").siblings().css("opacity","0.3")),j&&(j.unbind("click"),k.unbind("click"),d()),l.each(function(){var c,d,e=a(this).children();if("horizontal"===b.mode){var h;"prev"===p?h=-e.width():"next"===p&&(h=e.width()),c={display:"block",left:h},d={left:-h}}else if("vertical"===b.mode){var l;"prev"===p?l=-e.height():"next"===p&&(l=e.height()),c={display:"block",top:l},d={top:-l}}e.eq(f).css(c),a(this).stop().animate(d,b.animateSpeed,b.ease,function(){a(this).css({left:"0",top:"0"}),e.css({display:"none"}),e.eq(f).css({display:"block",left:"0",top:"0"}),o||(b.onChangeEnd(i,f,g),j&&(j.bind("click",function(a){i.prevClick(a)}),k.bind("click",function(a){i.nextClick(a)})),m&&m.find("li").each(function(){a(this).bind("click",function(b){b.preventDefault(),f=a(this).index(),i.goClickOneSlide(f)})}),o=!0,g=f)})})},b.onSlideReadyComplete(),e(b.auto),this}}(jQuery);